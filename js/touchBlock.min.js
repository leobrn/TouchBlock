!function(e,t){"use strict";let i=0,s=0,n=0,l=0,o=0,c=0,r=0,d=0,a=!0;const h=/[-0-9.]+(?=px)/,u=function(e){let t=void 0;return-1!==e.type.search("touch")?t=e.touches[0]:1===e.buttons&&(t=e),t},p=function(e){const t=e.currentTarget;return-1!==t.id.search("touchBlock")?t:void 0},f=function(e){const f={elementID:"",touchWidth:0,threshold:.3,transitionSpeed:.5,executeBeforeStart:!0,executeBeforeAction:!0,executeAtClick:!0,isSlider:!1,slideDefault:0,pagination:"null",jerking:!0},m={posThresholdX:0,isSwipe:!1,isClick:!1,isScroll:!1,allowSwipe:!0,slideIndex:0,slidesLength:0,paginationElement:void 0},S=function(e){if(!p(e))return;const t=this.settings.executeBeforeStart;if(!("function"==typeof t?t(this):t))return;let n=u(e);if(!n)return;const l=this.settings,c=l.cache;c.allowSwipe&&(a=!0,l.isSlider&&(r=(c.slideIndex+1)*-l.touchWidth,d=(c.slideIndex-1)*-l.touchWidth),i=s=n.clientX,o=n.clientY,this.element.style.transition="",this.element.addEventListener("touchmove",w,{passive:!0}),this.element.addEventListener("touchend",g),this.element.addEventListener("mousemove",w),this.element.addEventListener("mouseup",g))}.bind(this),w=function(e){if(!p(e))return;const t=this.settings.cache;let l=u(e),m=+this.element.style.transform.match(h)[0];if(!l)return;if(n=s-l.clientX,s=l.clientX,c=o-l.clientY,o=l.clientY,!t.isSwipe&&!t.isScroll){let e=Math.abs(c);e>7||0===n?(t.isScroll=!0,t.allowSwipe=!1):e<7&&(t.isSwipe=!0)}const S=this.settings.executeBeforeAction;if(!("function"==typeof S?S(this):S))return;if(t.isScroll)return;if(0===t.slideIndex&&f.isSlider)if(i<s){if(!f.jerking)return void this.swipe(!1,void 0,0);d=t.posThresholdX}else t.allowSwipe=!0;let w=t.slidesLength;if(t.slideIndex===--w)if(i>s){if(!f.jerking)return void this.swipe(!1,void 0,w);r=r<0?r+t.posThresholdX:t.posThresholdX}else t.allowSwipe=!0;const v=f.isSlider?r:t.posThresholdX,x=f.isSlider?d:t.posThresholdX;if(i>s&&m<v||i<s&&m>x)return a=!1,void g(e);this.element.style.transform=`translate3d(${m-n}px, 0px, 0px)`}.bind(this),g=function(e){if(this.element.removeEventListener("touchmove",w,{passive:!0}),this.element.removeEventListener("mousemove",w),this.element.removeEventListener("touchend",g),this.element.removeEventListener("mouseup",g),!p(e))return;const t=this.settings.cache;if(t.isScroll)return t.allowSwipe=!0,void(t.isScroll=!1);t.isSwipe=!1,l=i-s;let n=!1;if(t.allowSwipe)if(Math.abs(l)>t.posThresholdX&&(i<s?(n=!0,t.slideIndex>0&&t.slideIndex--):i>s&&(n=!1,t.slideIndex<t.slidesLength-1&&t.slideIndex++)),i!==s)t.allowSwipe=!1,f.isSlider?this.swipe(!1,void 0,t.slideIndex):this.swipe(n),t.isClick=!1;else{t.allowSwipe=!0,t.isClick=!0;const e=this.settings.executeAtClick;if(!("function"==typeof e?e(this):e))return}else t.allowSwipe=!0}.bind(this);Object.assign(f,e);const v=t.getElementById(f.elementID);v&&(m.posThresholdX=f.touchWidth*f.threshold,m.slidesLength=f.isSlider?v.querySelectorAll(".touch-block__slide").length:0,m.slideIndex=f.slideDefault>0?f.slideDefault:m.slideIndex,m.paginationElement=v.parentElement.querySelector(".touch-block__pagination"),f.cache=m,this.element=v,this.settings=f,v.style.transform="translate3d(0px, 0px, 0px)",v.addEventListener("touchstart",S,{passive:!0}),v.addEventListener("mousedown",S),v.addEventListener("click",g),f.isSlider&&(v.addEventListener("transitionend",function(){this.settings.cache.allowSwipe=!0}.bind(this)),this.swipe(!1,void 0,f.slideDefault)))};f.prototype.swipe=function(e=!1,t,i){const s=this.settings,n=s.cache,l=t||this.element;let o=i||n.slideIndex,c=s.isSlider?o:1;a&&(l.style.transition=`transform ${s.transitionSpeed}s ease`),l.style.transform=`translate3d(-${e?0:s.touchWidth*c}px, 0px, 0px)`,function(e){const{isSlider:t,pagination:i,cache:s}=e.settings,n=s.paginationElement;if(n&&t)if("numbers"===i)n.classList.add("touch-block__pagination-numbers"),n.innerHTML=`\n                <span class="touch-block__pagination-current">${s.slideIndex+1}</span>\n                <span class="touch-block__pagination-slash">/</span>\n                <span class="touch-block__pagination-total">${s.slidesLength}</span>`;else if("circles"===i){n.classList.add("touch-block__pagination-circles");let e=0,t=[];for(;e<=s.slidesLength-1;){let i="";e===s.slideIndex&&(i="touch-block__pagination-circle--active"),t.push(`<span class="touch-block__pagination-circle ${i}"></span>`),e++}n.innerHTML=t.join("")}}(this),n.allowSwipe=!0},e.TouchBlock=f}(window,document);